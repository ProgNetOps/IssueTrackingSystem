@model IEnumerable<BTSDTO>?;


<section>

    <form method="get" asp-action="index">


        <h1 id="mainHeader" class="m-3 text-center">BASE STATIONS</h1>

        <div class=" p-3 mb-3" id="search-bar">
            <div class="form-group" style="width:25%;">
                <select class="form-control" name="searchBy">
                    @* @foreach (var field in ViewBag.SearchFields)
                    {
                        if (field.Key == ViewBag.CurrentSearchBy)
                        {
                            //To persist the value in the dropdown and prevent
                            //selecting the first by default
                            <option value="@field.Key" selected="selected">@field.Value</option>
                        }
                        else
                        {
                            <option value="@field.Key">@field.Value</option>
                        }
                    } *@

                </select>
            </div>
            <div class="form-group" style="width:50%">
                <input name="searchString" type="search" class="form-control" placeholder="Search Term" value="@ViewBag.CurrentSearchString" />
            </div>
            <div class="form-group" style="width:10%">
                <button class="btn-primary form-control"><i class="fasfasearch"></    i></button>
            </div>
            <div class="form-group" style="width:10%">
                <a asp-controller="BTS" asp-action="Index" class="text-white" title="Clear All"><i class="fas fa-backspace"></i></a>
            </div>
        </div>


        <table class="table table-striped table-dark d-none d-md-block  no-italics" style="max-width:100%">
                <thead>
                    <tr>
                        <th class="text-center " style="width:15%">
                            <a class="text-white" asp-action="index">BTS</a>
                    </th>
                    <th class="text-center" style="width:15%">
                        <a class="text-white" asp-action="index">STATE</a>
                    </th>
                    <th class="text-center" style="width:15%">
                        <a class="text-white" asp-action="index">REGION</a>
                    </th>
                        <th class="text-center" style="width:40%">
                            <a class="text-white" asp-action="index">ADDRESS</a>
                        </th>
                        <th class="text-center" style="width:15%">ACTION</th>
                    </tr>

                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td style="width:15%;" class="text-center text-warning">@item?.BTSName</td>
                        <td style="width:15%;" class="text-center text-warning"> @item?.State.StateName </td>
                        <td style="width:15%;" class="text-center text-warning"> @item?.State?.Region?.RegionName </td>
                        <td style="width:40%;" class="text-center text-warning">@item?.LocationAddress</td>
                        <td style="width:15%; font-size: 2em;">
                            <div class="bts-action-buttons" style="display:flex; justify-content:space-around; align-items:center;">
                                <a asp-controller="BTS" asp-action="Edit" class="text-primary bts-icon-button"><i class="bi bi-pencil-square"></i></a>
                                <a style="text-decoration:none;cursor:pointer;color:#fff;" asp-controller="BTS" asp-action="Details" asp-route-id="@item?.Id"><i class="bi bi-eye-fill"></i></a>
                            </div>
                        </td>
                        </tr>
                    }
                </tbody>
            </table>
 
            <table class="table table-striped table-dark d-md-none" style="max-width:100%">
                <thead>
                    <tr>
                        <th class="text-center" style="max-width:20%">
                            <a class="text-white" asp-action="index">BTS</a>
                        </th>
                        <th class="text-center" style="max-width:60%">
                            <a class="text-white" asp-action="index">ADDRESS</a>
                        </th>
                        <th class="text-center" style="max-width:20%">
                            <a class="text-white" asp-action="index">ACTION</a>
                        </th>
                    </tr>

                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td style="width:20%" class="text-center text-warning">@item.BTSName</td>
                        <td style="width:60%" class="text-center text-warning">@item.LocationAddress</td>
                        <td style="width:20%; font-size: 1.4em;" class="text-center">
                            <div class="text-center bts-action-buttons" style="display:flex; justify-content:space-around; align-items:center;">
                                <a asp-controller="BTS" asp-action="Details" asp-route-id="@item.Id" class="text-success bts-icon-button"> <i class="bi bi-eye-fill"></i></a>
                                </div>
                            </td> 
                        </tr>
                    }
                </tbody>
            </table>
        

    </form>
   
    @await Html.PartialAsync("_CreateNewPartialView","BTSDTO");
</section>